## ê°œìš”

- í”„ë¡œì íŠ¸ì˜ íš¨ìœ¨ì„ ìœ„í•´ NewInputSystemì„ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ ë””ë°”ì´ìŠ¤ì—ì„œ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë„ë¡ í•¨
- NewInputSystemì„ í™œìš©í•˜ëŠ” ê³¼ì •ì—ì„œ UIì™€ ê´€ë ¨ëœ ë¬¸ì œì ì´ ì—¬ëŸ¬ ë¶€ë¶„ì—ì„œ ë°œìƒ

## New Input System í™œìš©

âš ï¸ **ê¸°ìˆ  ë„ì… ë°°ê²½**

- ë³¸ë˜ ëª¨ë°”ì¼ì—ì„œë§Œ ê°œë°œí•˜ë ¤ë˜ í”„ë¡œì íŠ¸ë¥¼ PC í”Œë«í¼ì—ì„œë„ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ê¸°ë¡œ ê²°ì •í•˜ë©´ì„œ, ë©€í‹° í”Œë«í¼ ê°œë°œì— ìš©ì´í•œ New InputSystemì„ ì´ìš©

**ğŸ’¡ ê¸°ìˆ  ë„ì…ìœ¼ë¡œ ì–»ì€ ì´ì **

- ë¬¼ë¦¬ì  ì…ë ¥ì„ ì¶”ìƒì ì¸ ì…ë ¥ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•˜ë©´ì„œ, ê°™ì€ í–‰ë™ì— ëŒ€í•´ì„œ ì…ë ¥ ì¶”ê°€ë¥¼ í†µí•´ ì¶”ê°€ì ì¸ ì‘ì—… ì—†ì´ ê°™ì€ í–‰ë™ì— ëŒ€í•´ ë‹¤ë¥¸ ì…ë ¥ì„ ì ìš© ê°€ëŠ¥

ğŸ’« **Input System êµ¬ì„±**

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/eff6a25e-c9a6-4236-986c-e48114834981/d37810ab-acbc-4d27-a7ae-0a1517955f05/Untitled.png)

---

## New Input Systemì˜ í™œìš©ì— ë”°ë¥¸ **ë¬¸ì œì  ë°œìƒ**

### - **ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ê³¼ UI ë²„íŠ¼ ì…ë ¥ì˜ ê²¹ì¹¨ ì˜¤ë¥˜ í˜„ìƒ -**

![ê¸°ìˆ  ê³ ë¯¼ - í˜„ì§€ (1).png](https://prod-files-secure.s3.us-west-2.amazonaws.com/416a3fd2-4c79-4ffa-a804-98a6fd1c8f6a/2b521fb3-c396-464d-929f-580e220b2cc0/%EA%B8%B0%EC%88%A0_%EA%B3%A0%EB%AF%BC_-_%ED%98%84%EC%A7%80_(1).png)

### **âš ï¸ ë¬¸ì œ**

- ìƒí˜¸ì‘ìš© í‚¤ë¥¼ ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ìœ¼ë¡œ ë³€ê²½í•˜ë©´ì„œ Input ì…ë ¥ê³¼ ë²„íŠ¼ í´ë¦­ì´ ê²¹ì¹˜ê²Œ ë¨
    
    â†’ ì¬ë£Œìƒìë‚˜ ì°»ì£¼ì „ì ì•ì—ì„œ UIë²„íŠ¼ì„ ëˆ„ë¥¼ ê²½ìš°, ì…ë ¥ì´ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ì „ìš© UIê°€ ëœ¨ê¸° ë•Œë¬¸ì— ë²„íŠ¼ì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ë¨
    

### **ğŸ› ï¸ ê³¼ì •**

- ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ìˆ¨ê¸°ê³ , altí‚¤ë¥¼ ëˆŒë €ì„ ë•Œë§Œ ì»¤ì„œê°€ ë³´ì´ë„ë¡, ì´ ë•ŒëŠ” ìƒí˜¸ì‘ìš© ì…ë ¥ ê²½ë¡œë¡œ ì‚¬ìš©ë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ëŠ” ë°©ë²• ê³ ë¯¼. í•˜ì§€ë§Œ ê¸°íšì ì¸ ì¸¡ë©´ì—ì„œ ì¢‹ì§€ ëª»í•˜ë‹¤ê³  íŒë‹¨
- UI ë²„íŠ¼ì„ On-ScreenButtonìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê³ ë ¤í–ˆìœ¼ë‚˜, ë§ˆìš°ìŠ¤ í´ë¦­ë³´ë‹¤ ëŠ¦ê²Œ ì¸ì‹ë˜ëŠ” ê²ƒì´ ë§ˆì°¬ê°€ì§€ì˜€ê³ , ì¸í’‹ ì•¡ì…˜ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í•˜ì§€ ëª»í•œë‹¤ëŠ” ë¬¸ì œê°€ ì—¬ì „íˆ ì¡´ì¬
- ë²„íŠ¼ ìœ„ì— ë§ˆìš°ìŠ¤ê°€ ìˆì„ ë•Œ ì¸í’‹ ìì²´ë¥¼ ë§‰ëŠ” ë°©ë²•ì— ëŒ€í•´ ìƒê°í–ˆìœ¼ë‚˜, ìˆœê°„ì ìœ¼ë¡œ ì¸í’‹ì„ ë§‰ëŠ” í–‰ìœ„ê°€ ë°˜ë³µì ìœ¼ë¡œ ì¼ì–´ë‚˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ê³  ì´ë¯¸ ì¸í’‹ì„ í™œì„±/ë¹„í™œì„±í™”í•˜ëŠ” ë¶€ë¶„ì´ ìˆê¸° ë•Œë¬¸ì— ë¬¸ì œ ë°œìƒ ìš°ë ¤

### **ğŸ’¡ ì„ íƒ** ë° ê²°ê³¼

- ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ ì´ë²¤íŠ¸ì— ì—°ê²° ëœ ì½œë°± ë©”ì„œë“œì—ì„œ í˜„ì¬ ë§ˆìš°ìŠ¤ê°€ ë²„íŠ¼ ìœ„ì— ìˆëŠ”ì§€ í™•ì¸í•œ í›„ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•¨
- ê´€ë ¨ ì½”ë“œ
    
    ```csharp
    public bool IsMouseOverUIButton()
    {
        rayResults.Clear();
        eventData.position = Input.mousePosition;
    
        EventSystem.current.RaycastAll(eventData, rayResults);
    
        return rayResults.Count > 0;
    }
    ```
    
    - ë§ˆìš°ìŠ¤ê°€ ë²„íŠ¼ ìš”ì†Œ ìœ„ì— ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ
    - UI ìš”ì†Œë“¤ì„ ëŒ€ìƒìœ¼ë¡œ RaycastAllì„ ì‚¬ìš©í•´ì„œ ë§ˆìš°ìŠ¤ ì»¤ì„œê°€ UIìš”ì†Œ ìœ„ì— ìˆëŠ”ì§€ íŒë‹¨
    
    ```csharp
    public bool IsInteractable()
    {
        if (Input.IsMouseOverUIButton()) return false;
        if (InteractionAction != null) return true;
        return false;
    }
    ```
    
    - í”Œë ˆì´ì–´ê°€ ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ìƒíƒœì¸ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ
    

### - í™œì„±í™” ì¤‘ì¸ UIì— ë”°ë¼ Inputì„ ì œì–´í•´ì•¼ í•˜ëŠ” ë¬¸ì œ **-**

### **âš ï¸ ë¬¸ì œ**

- Playerì˜¤ë¸Œì íŠ¸ê°€ ì»´í¬ë„ŒíŠ¸ë¡œ ê°€ì§€ê³  ìˆëŠ” PlayerInputì„ UIê°€ ì°¸ì¡°í•˜ì—¬ ì œì–´í•˜ëŠ” ê²ƒì´ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ êµ¬ì¡°
    - í”„ë¡œì íŠ¸ ì „ë°˜ì—ì„œ Sceneì´ ë¡œë“œ ë˜ë©´, ë‚´ë¶€ì ìœ¼ë¡œ Playerë¥¼ ìƒì„±í•˜ê³ , UIê°€ í•„ìš”í•œ ê²½ìš°ì— í•œí•´ì„œ UIë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ìƒì„± ë°  í˜¸ì¶œë˜ë„ë¡ êµ¬ì¡°ê°€ ì§œì—¬ì ¸ ìˆìŒ.
    
    â†’ ë”°ë¼ì„œ ë¯¸ë¦¬ Inspector ì°½ì—ì„œ ì°¸ì¡°í•˜ë„ë¡ ì—°ê²°ì‹œì¼œë‘˜ ìˆ˜ ì—†ëŠ” ìƒí™©
    

### **ğŸ› ï¸ ê³¼ì •**

- FindObjectWithTag()ë©”ì„œë“œë¥¼ í™œìš©í•´ì„œ íƒœê·¸ë¥¼ í†µí•´ í”Œë ˆì´ì–´ë¥¼ ê²€ìƒ‰í•œ í›„ PlayerInput ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¾ì•„ì„œ **UIì—ì„œ ì§ì ‘ Inputì„ ì œì–´í•˜ëŠ” ë°©ì‹**
    - ì—¬ëŸ¬ UI ìŠ¤í¬ë¦½íŠ¸ì—ì„œ PlayerInput ì»´í¬ë„ŒíŠ¸ë¥¼ ì§ì ‘ ì°¾ì•„ì„œ ì œì–´í•˜ëŠ” ê²ƒì´ UI ìŠ¤í¬ë¦½íŠ¸ì˜ ì—­í• ì—ì„œ ë²—ì–´ë‚œë‹¤ê³  íŒë‹¨
    - UI ìŠ¤í¬ë¦½íŠ¸ê°€ UIì™€ ê´€ë ¨ëœ ì—­í• ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì§€ ëª»í•œë‹¤ëŠ” ë¬¸ì œ
- UIë“¤ì€ UIManagerë¥¼ í†µí•´ì„œ ì°¸ì¡° ê°€ëŠ¥í•œ ìƒí™©ì´ë¯€ë¡œ, UIë“¤ì´ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ë„ë¡ í•˜ê³ , í•´ë‹¹ ì´ë²¤íŠ¸ì— ì½œë°± ë©”ì„œë“œë¥¼ PlayerInputì—ì„œ ì—°ê²°í•˜ëŠ” ë°©ë²•
    - UIManagerì—ì„œ ëª¨ë“  UIê°€ í™œì„±í™”ë  ë•Œ Dictionaryì— UIë“¤ì„ ì €ì¥í•˜ë„ë¡ ë˜ì–´ ìˆê³ , UIManagerì˜ ë©”ì„œë“œë¥¼ í†µí•´ì„œ í™œì„±í™”ëœ UIì— ì ‘ê·¼ì´ ê°€ëŠ¥í•¨
        
        â†’ UIê°€ í™œì„± / ë¹„í™œì„±í™” ë  ë•Œ UIë¥¼ ì²´í¬í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œì„œ ì¸í’‹ ì œì–´ ë©”ì„œë“œê°€ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°©ë²• ìƒê°
        
    - í•˜ì§€ë§Œ PlayerInput í´ë˜ìŠ¤ëŠ” ìœ ì € ì…ë ¥ê³¼ ê´€ë ¨ëœ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ì¸ë°, UIë¥¼ ê°™ì´ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ì½”ë“œ ê²°í•©ë„ë¥¼ ë†’ì´ëŠ” ë‚˜ìœ ìš”ì†Œë¼ê³  íŒë‹¨.

### **ğŸ’¡ ì„ íƒ** ë° ê²°ê³¼

- GameSceneUIInputControllerë¼ëŠ” í´ë˜ìŠ¤ ìƒì„±
    
    â†’ UIì— Inputì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë¥¼ ì—°ê²°ì‹œí‚¤ë„ë¡ ì—­í• ì„ ë¶„ë¦¬
    
- ê´€ë ¨ ì½”ë“œ
    
    ```csharp
    private void AddCallbacks()
        {
            _pausePanel.OnUIOpen += (() => PauseCallback(true));
            _pausePanel.OnUIClose += (() => PauseCallback(false));
    
            _cookBook.OnUIOpen += (() => CookBookCallback(true));
            _cookBook.OnUIClose += (() => CookBookCallback(false));
    
            _resultPanel.OnUIOpen += (() => _input.EnableInput(false));
    
            _ingredientBox.OnUIOpen += (() => _input.EnableInput(false));
            _ingredientBox.OnUIClose += (() => _input.EnableInput(true));
    
            _input.GameActions.Pause.performed += TogglePausePanel;
            _input.GameActions.CookBook.performed += ToggleCookBook;
    
            #region Ensure Deactivating UI
            _pausePanel.gameObject.SetActive(false);
            _cookBook.gameObject.SetActive(false);
            _resultPanel.gameObject.SetActive(false);
            _ingredientBox.gameObject.SetActive(false);
            #endregion
        }
    ```
    
    - GameSceneUIInputControllerì—ì„œ ì´ë²¤íŠ¸ì— Callbackì„ ì—°ê²°í•˜ëŠ” ë©”ì„œë“œ
    
    ```csharp
    private void Init()
    {
        _uiManager = UIManager.Instance;
        _gameManager = GameManager.Instance;
    
        Debug.Assert(_uiManager != null, "Null Exception : UIManager");
        Debug.Assert(_gameManager != null, "Null Exception : GameManager");
    
        _gameSceneUIInputController = new GameSceneUIInputController(this);
    
        EnableInput(true);
        _gameManager.ActivateEscapeInput(false);
    }
    ```
    
    - PlayerInputì—ì„œ GameSceneUIInputController ê°ì²´ ìƒì„± ë¶€ë¶„

---

## ê°œì„ ì  ìƒê°í•˜ê¸°

### **ì•„ì‰¬ìš´ ì **

- ì²˜ìŒ ì„¤ê³„í•  ë•ŒëŠ” Inputì´ í”Œë ˆì´ì–´ê°€ ìš”ë¦¬ë¥¼ í•˜ê±°ë‚˜ ì›€ì§ì¼ ë•Œë§Œ ì“°ì´ëŠ” ê²ƒìœ¼ë¡œ ê¸°íšë˜ì—ˆê¸° ë•Œë¬¸ì— Playerì—ê²Œ ì¢…ì†ë˜ë„ë¡ ë§Œë“¤ì–´ì§. í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ **í›„ë°˜ë¶€ì— Inputê³¼ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ë©´ì„œ Input ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œì§**
- ì²˜ìŒì— Inputì„ í™œì„±í™”/ë¹„í™œì„±í™” í•  ë•Œ InputActionì„ ì§ì ‘ í™œì„±í™”, ë¹„í™œì„±í™” í•˜ë‹¤ ë³´ë‹ˆ, Inputì´ ë¹„í™œì„±í™” ë˜ì–´ì•¼ í•  ìƒí™©ì„ì—ë„ ë¶ˆêµ¬í•˜ê³ , í˜„ì¬ ìƒíƒœì™€ ìƒê´€ ì—†ì´ Inputì´ í™œì„±í™”ë˜ëŠ” ê²½ìš°ë„ ë°œìƒí•˜ì˜€ìŒ.
    - InputSystemì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë¥¼ í†µì¼ì‹œí‚¤ê³ , ì™¸ë¶€ì—ì„œ ì œì–´ ì¤‘ì¸ InputActionì„ HashSetì— ì €ì¥í•˜ì—¬ ì „ì²´ì ì¸ InputSystemì´ í™œì„±í™”/ë¹„í™œì„±í™” ë  ë•Œ ì œì–´ ì¤‘ì¸ InputActionì— ì˜í–¥ì´ ê°€ì§€ ì•Šë„ë¡ êµ¬ì¡°ë¥¼ ë³€ê²½í•¨
    - í•˜ì§€ë§Œ Inputì˜ í†µì œë¥¼ ë” í° í‹€ì—ì„œ, ì¼ê´€ì„± ìˆê²Œ Input í†µì œ ìƒíƒœë¥¼ ê´€ë¦¬í•  í•„ìš”ì„±ì„ ëŠë‚Œ

### **ê°œì„  ë°©ì•ˆ**

- Input Systemì´ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•˜ê³ , ì—¬ëŸ¬ ì”¬ì—ì„œ ì ‘ê·¼í•´ì„œ í†µì œí•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë˜ì—ˆì„ ë•ŒëŠ” **Inputì„ ì „ì²´ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë§¤ë‹ˆì € í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒ**ë„ ì¢‹ì€ ë°©ì•ˆì´ì—ˆì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°.

---


## ì£¼ìš” ë©”ì„œë“œ

### PlayerInput

| ë©”ì„œë“œ | ì„¤ëª… |
| --- | --- |
| EnableInput | InputSystem assetì „ì²´ë¥¼ í™œì„±/ë¹„í™œì„±í™” í•˜ëŠ” ê¸°ëŠ¥ |
| ControlInput | InputSystemë‚´ì—ì„œ íŠ¹ì •í•œ InpuyActionë§Œì„ í™œì„±/ë¹„í™œì„±í™” í•˜ëŠ” ê¸°ëŠ¥ |
| IsMouseOverUIButton | ë§ˆìš°ìŠ¤ ì»¤ì„œì˜ ìœ„ì¹˜ì— ë”°ë¼ í”Œë ˆì´ì–´ì˜ ì¸í’‹ì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ boolê°’ì„ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ |

### GameSceneUIInputController

| ë©”ì„œë“œ | ì„¤ëª… |
| --- | --- |
| AddCallbacks | UI ë° InputActionì— ì½œë°± ë©”ì„œë“œë¥¼ ì—°ê²°í•˜ëŠ” ê¸°ëŠ¥ |
| TogglePausePanel | ESC í‚¤ì˜ ì…ë ¥ì´ ë“¤ì–´ì™”ì„ ë•Œ, ìƒí™©ì— ë”°ë¼ ì¼ì‹œì •ì§€ UIë¥¼ ë„ì›Œì£¼ê±°ë‚˜ ë‹«ì•„ì£¼ëŠ” ê¸°ëŠ¥ |
| ToggleCookBook | TAB í‚¤ì˜ ì…ë ¥ì´ ë“¤ì–´ì™”ì„ ë•Œ, ìƒí™©ì— ë”°ë¼ ì¿¡ë¶(ì¡°ë¦¬ë²•) UIë¥¼ ë„ì›Œì£¼ê±°ë‚˜ ë‹«ì•„ì£¼ëŠ” ê¸°ëŠ¥ |
| PauseCallback | ì¼ì‹œì •ì§€ UIê°€ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì— ë”°ë¼ Inputì´ ì œì–´ë  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” Callback ë©”ì„œë“œ |
| CookBookCallback | ì¿¡ë¶(ì¡°ë¦¬ë²•) UIê°€ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì— ë”°ë¼ Inputì´ ì œì–´ë  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” Callback ë©”ì„œë“œ |
